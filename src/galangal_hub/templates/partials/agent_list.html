<h2 class="text-lg font-semibold text-gray-200 mb-4">
    Connected Agents ({{ agents|length }})
</h2>
<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
    {% for agent in agents %}
    <a href="/agent/{{ agent.agent.agent_id }}"
       class="block bg-gray-800 border border-gray-700 rounded-lg p-4 hover:bg-gray-750 transition">
        <div class="flex items-center justify-between mb-2">
            <div class="flex items-center">
                <span class="status-dot {{ 'status-connected' if agent.connected else 'status-disconnected' }} mr-2"></span>
                <span class="font-medium">{{ agent.agent.agent_name }}</span>
            </div>
            {% if agent.task %}
            <span class="text-xs text-purple-400 bg-purple-900/50 px-2 py-1 rounded">
                {{ agent.task.stage }}
            </span>
            {% endif %}
        </div>
        <div class="text-sm text-gray-400">{{ agent.agent.project_name }}</div>
        {% if agent.task %}
        <div class="mt-2 pt-2 border-t border-gray-700">
            <div class="text-sm">{{ agent.task.task_name }}</div>
            <div class="text-xs text-gray-500 truncate">{{ agent.task.task_description }}</div>
        </div>
        {% else %}
        <div class="mt-2 text-sm text-gray-500">No active task</div>
        {% endif %}
    </a>
    {% endfor %}

    {% if not agents %}
    <div class="col-span-full text-center py-8 text-gray-500">
        No agents connected. Start a workflow with hub enabled to see it here.
    </div>
    {% endif %}
</div>
